# 들어가며

## 현실적으로 테스트 주도 개발의 실천이 꺼려지는 이유

1. 어디서부터 시작해야 할지 모르겠다.
   - 테스트 주도 스타일을 별도로 익혀야 한다. 그러나 막상 이를 배울 동기가 부족하다.
2. 참고할 만한 실무 예제가 부족하다.
   - 토이 프로젝트 또는 블로그 글 정도인데, 이러한 자료에서 실무에서 다루는 전문적인 도메인을 다루기 어렵다. 청중이 이해하기 쉽도록 간단한 예제를 사용하는 경우가 많다.
3. 코드부터 작성하고 테스트는 나중에 작성해도 되던데?
   - 프로덕션 환경에 들어가기 전에만 테스트를 작성해도 충분히 신뢰할 수 있는 코드를 작성할 수 있을 것이라는 생각이 들 수 있다.

## 테스트 주도 개발이란?

- 코드를 설계하고 구조화하는 기법으로, 단순성을 장려하고 코드 크기가 증가함에 따라 코드에 대한 신뢰를 높인다.

### 기법

- 테스트 주도 개발은 다음 세 가지 믿음을 바탕으로한 기법, 타고나는 능력이 아니라 훈련을 통해 습득해야 하는 기술이다.
  1. 단순성(안 하는 일의 양을 최대화 - 자동화하라는 뜻)이 필수적이다.
  2. 명확성과 명료성(코드를 읽기 쉽게 만들어라)은 영리함보다 더 고결하다.
  3. 깔끔한 코드 작성이 성공의 핵심 요소이다.

### 코드 설계 및 구조화

- 테스트 주도 개발의 근본은 코드를 테스트하는 것에 있지 않다. 코드의 설계와 구조를 개선하는 것에 있다.
- 단순히 테스트가 통과되는 것이 목적이라면, 비즈니스 코드를 먼저 작성하고 테스트를 나중에 작성하는 것과 비교해 이점이 없다.
- 테스트 주도 개발은 더 나은 소프트웨어의 설계를 위한 기법이며, 그 과정(단위 테스트)에서 설계의 단순성과 명료성을 이끌어낼 수 있다.

### 단순성에 대한 편견

- 단순성은 소수만 이해할 수 있는 개념이 아니다.
- 단순성 측정 메트릭: 피처(테스트 대상이 되는 항목)당 더 적은 수의 코드 라인, 더 낮은 순환 복잡도, 더 적은 사이드 이펙트, 더 짧은 실행 시간, 더 낮은 메모리 사용량 등
- 테스트 주도 개발은 '동작하는 가장 간단한 것'을 정교하게 만들게 해, 끊임없이 단순성의 메트릭으로 유도한다.
- 이게 무슨 소리냐?
  - 처음에 테스트를 작성하고
  - 테스트를 통과할 수 있는 가장 간단한 코드를 작성한 후
  - 리팩토링을 통해 코드를 개선
  - 이 과정을 반복하면 코드는 항상 가장 단순한 형태로 유지된다.
- 임의로 복잡성을 증가시키기 어려운 이유: 반드시 먼저 테스트를 작성해야 하기 때문이다. 막연하게 미래에 필요할 것 같아서라는 이유로 복잡성을 추가할 수 없다.

### 신뢰 향상

- 테스트 주도 개발은 코드에 대한 신뢰를 높인다.
- 신뢰는 예측 가능성의 기대에 대한 것으로, 예상치 못한 결과를 예방하고, 코드 변경에 대한 두려움을 줄여준다.

---

# 0장 소개 및 설정

- `go`와 `node.js` 모두 설치되어 있어서 별도의 설정 과정은 생략한다.
- `go` `1.17` 버전을 사용하는 것을 보니, 상당히 오래 전에 작성된 책인 것 같다. 그런데 한글 번역본은 2024년에서야 나오다니... 중요한 것은 버전이 아니라 테스트 주도 개발의 기본 원리를 이해하는 것이다. 그래도 버전이 오래되었으니, 실습을 진행하면서 버전에 따른 변경 사항이 있을 수 있으니 주의하자.
